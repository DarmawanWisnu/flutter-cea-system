@startuml
title Activity Diagram - History

|User|
start
:Akses halaman History;

|Sistem|
:Ambil kitId dari shared state;
:Menampilkan loading indicator;
:Request data history ke Backend API;
:GET /telemetry/{kitId}/history;

if ("Data tersedia?") then (Ya)
  :Menampilkan list data sensor;
  :(pH, PPM, Temperature, Water Level);
else (Tidak)
  :Menampilkan pesan "Tidak ada data";
endif

|User|
:Memilih filter waktu;
:(1 jam / 6 jam / Semua);

|Sistem|
:Filter data lokal berdasarkan waktu;
:Menampilkan data hasil filter;

|User|
:Memilih tanggal tertentu (opsional);

|Sistem|
if ("Tanggal dipilih?") then (Ya)
  :Request data untuk tanggal terpilih;
  :GET /telemetry/{kitId}/history?date=YYYY-MM-DD;
  :Menampilkan data untuk tanggal tersebut;
endif

stop
@enduml
