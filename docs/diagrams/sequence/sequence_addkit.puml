@startuml
scale 3
skinparam monochrome true
title Sequence Diagram - Add Kit

actor "User" as User
participant "Add Kit Screen" as Form
participant "ApiKitsService" as API
participant "Backend REST API" as Backend
participant "Home Screen" as Home

' === Awal ===
User -> Form : Membuka halaman tambah kit
activate Form
Form -> User : Menampilkan form input data kit
deactivate Form

' === Input data ===
User -> Form : Input nama kit dan ID perangkat
activate Form
Form -> User : Menampilkan data inputan
deactivate Form

User -> Form : Klik tombol Simpan
activate Form

' === Validasi input ===
Form -> Form : Validasi data (ID >= 5 char, nama tidak kosong)

' === Kirim ke API ===
Form -> API : addKit(id, name)
activate API

API -> Backend : POST /kits {id, name, userId}
activate Backend
Backend -> Backend : Simpan data kit ke database
Backend --> API : Response 201 Created / Error
deactivate Backend

' === Handling hasil ===
alt Berhasil
  API --> Form : Success
  Form -> User : Menampilkan Dialog Sukses
  Form -> Home : Navigate ke Home Screen
  activate Home
  Home -> User : Menampilkan daftar kit terbaru
  deactivate Home
else Gagal
  API --> Form : Throw Exception
  Form -> User : Menampilkan Dialog Error
end

deactivate API
deactivate Form

@enduml
